import { signOut } from "@/app/login/actions";
import { createClient } from "@/utils/supabase/server";
import Link from "next/link";
import { Button } from "@/components/ui/button";
import { emailLogin } from "../signup/actions";

export default async function WelcomeScreen() {
  const supabase = createClient();

  const {
    data: { user },
  } = await supabase.auth.getUser();

  return (
    <>
      <div className="w-full h-screen max-w-sm block pt-[200px] p-6">
        <div className="mt-10">
          <div className="flex justify-start items-center">
            <svg
              width="151"
              height="33"
              viewBox="0 0 151 33"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <g filter="url(#filter0_d_126_64)">
                <rect
                  x="19.1677"
                  y="1.72662"
                  width="8.00538"
                  height="22.2895"
                  rx="4.00269"
                  fill="#2945FF"
                  fill-opacity="0.4"
                />
                <rect
                  x="33.6088"
                  y="1.72662"
                  width="8.00538"
                  height="22.6034"
                  rx="4.00269"
                  fill="#2945FF"
                  fill-opacity="0.4"
                />
                <rect
                  x="23.1733"
                  width="8.00538"
                  height="28.5295"
                  rx="4.00269"
                  transform="rotate(45 23.1733 0)"
                  fill="#2945FF"
                />
                <rect
                  x="37.6144"
                  width="8.00538"
                  height="28.5295"
                  rx="4.00269"
                  transform="rotate(45 37.6144 0)"
                  fill="#2945FF"
                />
                <rect
                  x="43.6807"
                  y="9.42743"
                  width="7.52259"
                  height="16.2168"
                  rx="3.7613"
                  transform="rotate(45 43.6807 9.42743)"
                  fill="#2945FF"
                />
                <path
                  d="M71.78 5.72C73.4333 5.72 74.72 6.21333 75.64 7.2C76.5733 8.17333 77.04 9.58667 77.04 11.44V20H73.08V11.56C73.08 10.72 72.86 10.0867 72.42 9.66C71.98 9.22 71.3933 9 70.66 9C69.8733 9 69.2467 9.23333 68.78 9.7C68.3267 10.1533 68.1 10.84 68.1 11.76V20H64.14V11.56C64.14 10.72 63.9333 10.0867 63.52 9.66C63.12 9.22 62.5667 9 61.86 9C61.1 9 60.4933 9.23333 60.04 9.7C59.5867 10.1533 59.36 10.84 59.36 11.76V20H55.4V6H59.24V7.56C59.6667 6.96 60.2133 6.50667 60.88 6.2C61.56 5.88 62.3467 5.72 63.24 5.72C64.16 5.72 64.96 5.88667 65.64 6.22C66.3333 6.55333 66.8933 7.04 67.32 7.68C67.8 7.04 68.4267 6.55333 69.2 6.22C69.9733 5.88667 70.8333 5.72 71.78 5.72ZM91.0159 9.16V20H87.3959V18.92C86.6893 19.76 85.6226 20.18 84.1959 20.18C83.2093 20.18 82.3093 19.9533 81.4959 19.5C80.6959 19.0333 80.0559 18.3733 79.5759 17.52C79.1093 16.6667 78.8759 15.68 78.8759 14.56C78.8759 13.44 79.1093 12.46 79.5759 11.62C80.0559 10.7667 80.6959 10.1133 81.4959 9.66C82.3093 9.20667 83.2093 8.98 84.1959 8.98C85.4759 8.98 86.4826 9.35333 87.2159 10.1V9.16H91.0159ZM84.9959 17.16C85.6626 17.16 86.2093 16.9333 86.6359 16.48C87.0626 16.0133 87.2759 15.3733 87.2759 14.56C87.2759 13.76 87.0626 13.1333 86.6359 12.68C86.2093 12.2267 85.6626 12 84.9959 12C84.3293 12 83.7826 12.2267 83.3559 12.68C82.9293 13.1333 82.7159 13.76 82.7159 14.56C82.7159 15.3733 82.9293 16.0133 83.3559 16.48C83.7826 16.9333 84.3293 17.16 84.9959 17.16ZM100.282 8.98C101.269 8.98 102.162 9.20667 102.962 9.66C103.776 10.1133 104.416 10.7667 104.882 11.62C105.362 12.46 105.602 13.44 105.602 14.56C105.602 15.68 105.362 16.6667 104.882 17.52C104.416 18.3733 103.776 19.0333 102.962 19.5C102.162 19.9533 101.269 20.18 100.282 20.18C98.8555 20.18 97.7889 19.76 97.0822 18.92V20H93.4622V5.16H97.2622V10.1C97.9955 9.35333 99.0022 8.98 100.282 8.98ZM99.4822 17.16C100.149 17.16 100.696 16.9333 101.122 16.48C101.549 16.0133 101.762 15.3733 101.762 14.56C101.762 13.76 101.549 13.1333 101.122 12.68C100.696 12.2267 100.149 12 99.4822 12C98.8155 12 98.2689 12.2267 97.8422 12.68C97.4155 13.1333 97.2022 13.76 97.2022 14.56C97.2022 15.3733 97.4155 16.0133 97.8422 16.48C98.2689 16.9333 98.8155 17.16 99.4822 17.16ZM118.828 9.16V20H115.208V18.92C114.502 19.76 113.435 20.18 112.008 20.18C111.022 20.18 110.122 19.9533 109.308 19.5C108.508 19.0333 107.868 18.3733 107.388 17.52C106.922 16.6667 106.688 15.68 106.688 14.56C106.688 13.44 106.922 12.46 107.388 11.62C107.868 10.7667 108.508 10.1133 109.308 9.66C110.122 9.20667 111.022 8.98 112.008 8.98C113.288 8.98 114.295 9.35333 115.028 10.1V9.16H118.828ZM112.808 17.16C113.475 17.16 114.022 16.9333 114.448 16.48C114.875 16.0133 115.088 15.3733 115.088 14.56C115.088 13.76 114.875 13.1333 114.448 12.68C114.022 12.2267 113.475 12 112.808 12C112.142 12 111.595 12.2267 111.168 12.68C110.742 13.1333 110.528 13.76 110.528 14.56C110.528 15.3733 110.742 16.0133 111.168 16.48C111.595 16.9333 112.142 17.16 112.808 17.16ZM128.095 8.98C129.081 8.98 129.975 9.20667 130.775 9.66C131.588 10.1133 132.228 10.7667 132.695 11.62C133.175 12.46 133.415 13.44 133.415 14.56C133.415 15.68 133.175 16.6667 132.695 17.52C132.228 18.3733 131.588 19.0333 130.775 19.5C129.975 19.9533 129.081 20.18 128.095 20.18C126.668 20.18 125.601 19.76 124.895 18.92V20H121.275V5.16H125.075V10.1C125.808 9.35333 126.815 8.98 128.095 8.98ZM127.295 17.16C127.961 17.16 128.508 16.9333 128.935 16.48C129.361 16.0133 129.575 15.3733 129.575 14.56C129.575 13.76 129.361 13.1333 128.935 12.68C128.508 12.2267 127.961 12 127.295 12C126.628 12 126.081 12.2267 125.655 12.68C125.228 13.1333 125.015 13.76 125.015 14.56C125.015 15.3733 125.228 16.0133 125.655 16.48C126.081 16.9333 126.628 17.16 127.295 17.16ZM146.641 9.16V20H143.021V18.92C142.314 19.76 141.248 20.18 139.821 20.18C138.834 20.18 137.934 19.9533 137.121 19.5C136.321 19.0333 135.681 18.3733 135.201 17.52C134.734 16.6667 134.501 15.68 134.501 14.56C134.501 13.44 134.734 12.46 135.201 11.62C135.681 10.7667 136.321 10.1133 137.121 9.66C137.934 9.20667 138.834 8.98 139.821 8.98C141.101 8.98 142.108 9.35333 142.841 10.1V9.16H146.641ZM140.621 17.16C141.288 17.16 141.834 16.9333 142.261 16.48C142.688 16.0133 142.901 15.3733 142.901 14.56C142.901 13.76 142.688 13.1333 142.261 12.68C141.834 12.2267 141.288 12 140.621 12C139.954 12 139.408 12.2267 138.981 12.68C138.554 13.1333 138.341 13.76 138.341 14.56C138.341 15.3733 138.554 16.0133 138.981 16.48C139.408 16.9333 139.954 17.16 140.621 17.16Z"
                  fill="#2945FF"
                />
              </g>
              <defs>
                <filter
                  id="filter0_d_126_64"
                  x="0.657959"
                  y="1.65796"
                  width="149.983"
                  height="30.9978"
                  filterUnits="userSpaceOnUse"
                  color-interpolation-filters="sRGB"
                >
                  <feFlood flood-opacity="0" result="BackgroundImageFix" />
                  <feColorMatrix
                    in="SourceAlpha"
                    type="matrix"
                    values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
                    result="hardAlpha"
                  />
                  <feOffset dy="4" />
                  <feGaussianBlur stdDeviation="2" />
                  <feComposite in2="hardAlpha" operator="out" />
                  <feColorMatrix
                    type="matrix"
                    values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"
                  />
                  <feBlend
                    mode="normal"
                    in2="BackgroundImageFix"
                    result="effect1_dropShadow_126_64"
                  />
                  <feBlend
                    mode="normal"
                    in="SourceGraphic"
                    in2="effect1_dropShadow_126_64"
                    result="shape"
                  />
                </filter>
              </defs>
            </svg>
          </div>
          <div className="w-full max-w-sm">
            <div className="block text-start my-20">
              <div className="font-sans font-extrabold text-[44px] leading-none">
                CONTROL YOUR <span className="text-[#2945FF]">FUEL</span>
                FINANCE
              </div>
              <div className="text-gray-500 font-light py-4">
                Don't wait for tomorrow, if you can start today
              </div>
            </div>
          </div>

          <div>
            <div className="flex flex-1 items-center justify-start space-x-2">
              {user !== null ? (
                <form
                  action={emailLogin}
                  className="flex items-center gap-2 w-full"
                >
                  <Button className="w-full p-6 text-white font-medium text-xl bg-[#2945FF] rounded-xl border-2 border-black shadow-[4px_4px_0px_rgba(0,0,0,0.8),0_0px_0px_rgba(0,0,0,0.8)]">
                    Login
                  </Button>
                </form>
              ) : (
                <Button
                  className="w-full p-6 text-black bg-white rounded-xl border-2 border-black shadow-[4px_4px_0px_rgba(0,0,0,0.8),0_0px_0px_rgba(0,0,0,0.8)]"
                  asChild
                >
                  <Link href="/login">Get Started</Link>
                </Button>
              )}
            </div>
          </div>
        </div>
      </div>
    </>
  );
}
